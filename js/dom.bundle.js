/*! For license information please see dom.bundle.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./src/js/dom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _moviesfunction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./moviesfunction.js */ "./src/js/moviesfunction.js");\n\n\n\n// variables carousel\nconst flechaizquierda = document.querySelectorAll(".flecha-izquierda");\nconst flechaderecha = document.querySelectorAll(".flecha-derecha");\n//const fila = document.querySelectorAll(".contenedor-carousel");*/\nconst btnplay = document.querySelector(".btnplay");\nconst header = document.querySelector(".header");\nconst loading = document.querySelector(".loading");\n\nconst popcoffe = document.querySelector(".buycoffe")\n\nconst maybe = popcoffe.querySelector(".maybe");\nconst iconcoffe  = document.querySelector(".icon-coffe");\n\nfunction idioma() {\n  var idioma = navigator.language;\n  const textcoffe = document.querySelector(".text-container p");\n  const textbuttoncoffe = document.querySelector(".coffe span");\n  const textbuttonlater = document.querySelector(".maybe button span");\n  const text1 = "You can support me just by inviting me to a simple coffee";\n  const text2 = "  Buy ";\n  const text3 = "Maybe later";\n\n  if (idioma === "en-US" || idioma === "en" || idioma === "EN" || idioma === "en-Us") {\n\n    document.querySelector(".buycoffe .buttons .coffe").style.padding =  "10px 47px"\n    textcoffe.textContent = text1;\n    textbuttoncoffe.textContent = text2;\n    textbuttonlater.textContent = text3;\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\nfunction showcoffe(){\n  \n  idioma();\n  popcoffe.style.display = "block";\n\n  setTimeout(function(){\n\n    popcoffe.style.opacity = "1";\n    popcoffe.style.top = "50%";\n  \n  },200)\n\n  maybe.addEventListener("click", hidecoffe );\n\n}\n\n\nsetTimeout(showcoffe, 15000);\n \n\nfunction hidecoffe(){\n\n  popcoffe.style.opacity = "0";\n  popcoffe.style.top = "60%";\n\n  setTimeout(function(){\n\n    popcoffe.style.display = "none";\n\n    iconcoffe.style.opacity = "1";\n    iconcoffe.style.rigth = "10px";\n    iconcoffe.style.bottom = "10px";\n    \n  \n  },300)\n}\n\n\n\n \n\n\n\n//function mostrarMensaje() {\n // alert("Han pasado más de 30 segundos en la página");\n  // Aquí puedes agregar el código para mostrar la alerta o realizar alguna acción adicional\n//}\n\n// Configurar el temporizador para llamar a la función después de 30 segundos\n//setInterval(mostrarMensaje, 4000); \n\n\nsetTimeout(function(){\n\n\nloading.style.opacity = "0";\n \n   setTimeout(function(){\n loading.style.display = "none";\n\n   },500)\n\n\n},500)\n\n\n\n\n\n  btnplay.addEventListener("click",  function(){\n   \n    ;(0,_moviesfunction_js__WEBPACK_IMPORTED_MODULE_0__.OPenvideo)();\n\n  })\n\n\n\n\nconst scrollPosition = 0;\n\nwindow.addEventListener("scroll", ()=>{\n\n  let CurrentPosition = window.scrollY;\n  if( CurrentPosition > scrollPosition){\n    header.classList.add("black")\n  }\n  else {\n    header.classList.remove("black")\n  }\n\n})\n\n\n\n\n\n\n\n\n// click addEventListener\n\n\nflechaderecha.forEach((flecha, index) => {\n  flecha.addEventListener("click", (e) => {\n    const contenedorCarousel = e.currentTarget.previousElementSibling;\n    const flechaizquierdat = contenedorCarousel.previousElementSibling;\n\n    contenedorCarousel.scrollLeft += contenedorCarousel.offsetWidth;\n    flechaizquierdat.style.display = "block";\n    checkScrollLimit(contenedorCarousel, e.currentTarget);\n  });\n});\n\nfunction checkScrollLimit(carousel, flechaDerecha) {\n  carousel.addEventListener("scroll", () => {\n    if (carousel.scrollLeft + carousel.offsetWidth >= carousel.scrollWidth) {\n      console.log(carousel.scrollLeft + carousel.offsetWidth + " " + carousel.offsetWidth);\n      flechaDerecha.style.display = "none";\n    } \n    else {\n      flechaDerecha.style.display = "block";\n    }\n  });\n}\n\n \n\n  flechaizquierda.forEach((flecha, index, flechaizquierdat) => {\n    \n    flecha.style.display = "none";\n\n    flecha.addEventListener("click", (e) => {\n\n      const contenedorCarousel = e.currentTarget.nextElementSibling;\n      const flechaizquierdat = contenedorCarousel.previousElementSibling;\n      const  Currentposition = contenedorCarousel.offsetWidth;\n      const offsetWidth = parseInt(contenedorCarousel.offsetWidth);\n      console.log( "first" + Currentposition);\n      contenedorCarousel.scrollLeft -= contenedorCarousel.offsetWidth;\n\n    \n     \n\n      if ( contenedorCarousel.scrollLeft <= contenedorCarousel.offsetWidth)\n      {\n       \n      console.log("se cumple");\n        console.log(  "se cumple" + contenedorCarousel.scrollLeft );\n          \n        e.currentTarget.style.display = "none"; \n      \n\n    }\n    else{\n      e.currentTarget.style.display = "block"; \n    }\n\n    \n   \n\n\n\n\n      \n    });\n\n  });\n\n\n\n// video pop up\n\n\n//# sourceURL=webpack://webpack/./src/js/dom.js?')},"./src/js/moviesfunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "OPenvideo": () => (/* binding */ OPenvideo),\n/* harmony export */   "genererarPeliculas": () => (/* binding */ genererarPeliculas),\n/* harmony export */   "obtenerPeliculas": () => (/* binding */ obtenerPeliculas),\n/* harmony export */   "pyVideo": () => (/* binding */ pyVideo)\n/* harmony export */ });\n/* function generarPeliculas */\nasync function genererarPeliculas(){\n\nconst movies = await fetch(\'/json/movies.json\');\nconst dataEntry = await movies.json();\nreturn dataEntry.peliculas;\n\n}\n\n/* function obtenerPeliculas */\nasync function obtenerPeliculas(dataEntry ){\n\n\n /* variables */\n\n\n\nconst moreinfo = document.querySelector(".block-info-movie-hero__info");\nconst pagecontainer = document.querySelector(".page-container");\nconst popinfo = document.querySelector(".info");\nconst popup = document.querySelector(".pop");\nconst textinfo = document.querySelector(".block-info-movie-hero")\nconst carousel = document.querySelector(".carousel");\nconst carouselTend = document.querySelector(".tendencias");\nconst carouselTaqui = document.querySelector(".taquillazos");\n\n\nconst filterePopulares = filtrarPeliculas(dataEntry, "populares");\nconst filteredTendencias = filtrarPeliculas(dataEntry, "tendencias");\nconst filteredTaquilleras = filtrarPeliculas(dataEntry, "taquilleras")\n\n\nmoreinfo.addEventListener("click", function(){\n\n  moviePopUp(1, "populares");\n})\n\n/* function filtro */\nfunction filtrarPeliculas( dataEntry, category) {\n\n\n  return dataEntry.filter(pelicula => pelicula.category === category);\n\n}\n\n\n/* */\n\n/* funcion imprimir peliculas*/\nfunction generarHTMLPeliculas(filtrarPeliculas) {\n  \n  const category = filtrarPeliculas[0]?.category || ""; \n  return filtrarPeliculas.reduce((html, movie, index) => {\n\n   return html + `\n      <div class="pelicula"  data-categoria="${category}" data-index="${index}">\n        <a href="#"><img src="${movie.thumbnail}" alt=""></a>\n      </div>`;\n  }, \'\');\n}\n\n/* cargando las peliculas */\n\n\n carousel.innerHTML = generarHTMLPeliculas(filterePopulares);\n carouselTend.innerHTML = generarHTMLPeliculas(filteredTendencias);\n carouselTaqui.innerHTML = generarHTMLPeliculas(filteredTaquilleras);\n\n/* cargando las peliculas */\n\n\n\n\nconst peliculas = document.querySelectorAll(".pelicula");\n\n\n /* variables */\npeliculas.forEach(pelicula => {\n    pelicula.addEventListener("click", (e) => {\n        const index = e.currentTarget.dataset.index;\n        const categoria = e.currentTarget.dataset.categoria;\n\n\n       /* const movie = dataEntry.peliculas[index]*/\n        moviePopUp(index, categoria);\n    })\n});\n\n\n\n\n \n /* popUp  */\n\n    function moviePopUp(index , categoria ){\n     \n             popup.classList.add("block")\n             popinfo.classList.add("block")\n             pagecontainer.style.position = "fixed";\n             popinfo.style.position = "absolute";\n            \n      \n             setTimeout(() => {\n              popup.style.opacity = "1";\n              popinfo.style.opacity = "1";\n            }, 10);\n\n          \n          popup.addEventListener("click", closeinfo)\n    \n\n     \n           showmovies(index,  categoria);\n       \n   \n        }\n\n\n\n\n\n        function closeinfo(){\n\n          popup.style.opacity = "0";\n          popinfo.style.opacity = "0";\n          \n          setTimeout(() => {\n            popup.classList.remove("block")\n           popinfo.classList.remove("block")\n            pagecontainer.style.position = "relative";\n           \n          }, 500); // Tiempo para que se complete la transición de fadeOut (0.5 segundos)\n\n        }\n\n\n/* print peliculas */ \n   \n\n   function showmovies(index, categoria){\n    \n\n\n    const categoryData = {\n      populares: filterePopulares,\n      tendencias: filteredTendencias,\n      taquilleras: filteredTaquilleras\n    };\n    \n\n    if (categoria in categoryData) {\n      const movies = categoryData[categoria];\n     printInfo( movies[index]);\n    }\n\n\n\n    \n  \n    }\n\n\n    function showmoviesTen(index, dataEntry){\n \n\n    \n      const movieSelectTend = filteredTendencias[index];\n      printInfo(movieSelectTend);\n      \n    \n      }\n  \n  \n\n\n\n    \n\n\nfunction printInfo(movieSelect){\n\nconst div =  ` <div class="block-movieinfo--hero">\n<span class="close"></span>\n<div class="block-movieinfo--hero-img"> \n<div class="image" style="background: url(\'${ movieSelect.imagen }\');height: 41vh;\nbackground-size: cover;\nbackground-position: center center;">\n\n<div class="bg-gradient-black"></div></div>\n</div>\n<div class="block-movieinfo--hero-text">\n\n\n<div class="block-movieinfo--hero-logo">   \n\n<img  src="${ movieSelect.logomovie }" alt="" > </div>\n\n\n<div class="btns"> \n  <button  type="button" class="block-info-movie-hero__play">Reproducir</button>\n<img src="../assets/img/hand.svg" width="50">  <img src="../assets/img/plus.svg" width="50">  </div>\n</div>\n\n</div>\n</div>\n<div class="block-info-data">\n<h1> ${ movieSelect.nombre }</h1>\n<p>${ movieSelect.descripcion }</p>\n</div>\n\n`  \npopinfo.innerHTML = div;\n\nconst close = document.querySelector(".close");\nclose.addEventListener("click", closeinfo)\n\n\n\n\npyVideo();\n\n}\n\n\n\n\n\nfunction peliculasPopulares( filteredTendencias,  ){\n\n    const peliculasHTML = filteredTendencias.map((movie, index, dataEntry) => {\n\n    return `\n    <div class="pelicula" data-index="${index}" ><a href="#">\n    <img src="${movie.thumbnail}" alt="dogflix"></a></div>`  \n    \n    \n    }\n    ).join(\'\');\n    \n    carousel.innerHTML = peliculasHTML;\n\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n}\n\n\n\n\nfunction pyVideo() {\n\n  const videocontent = document.querySelector(".block-movieinfo--hero");\n  const fullscreenButton = videocontent.querySelector(".block-info-movie-hero__play");\n  \n  fullscreenButton.addEventListener("click", OPenvideo)\n\n\n}\n\n\n\nfunction OPenvideo() {\n\n   var containervid = document.querySelector(".video-movie")\n   var backBtn = document.querySelector(".backBtn");\n   var video = document.getElementById("myVideo");\n\n   video.volume = 0.1;\n\n\n  containervid.style.display = "block";\n    setTimeout(function(){\n\n       containervid.classList.add("show");\n        video.play();\n\n    },100)\n\n\n    backBtn.addEventListener("click", function(){\n\n      close(containervid,backBtn,video);\n    })\n\n video.addEventListener("ended", function(){\n\n  setTimeout(function(){\n\n    close(containervid, backBtn,  video);\n\n  },200)\n\n\n })\n\n\n}\n\n\n\n\n\n\n\nfunction close(containervid, backBtn,  video){\n\n\n  setTimeout(function(){\n    \n    containervid.classList.remove("show");\n    video.pause();\n    video.currentTime = 0;\n\n},100)\ncontainervid.style.display = "none";\n\n\n  \n\n}\n\n//# sourceURL=webpack://webpack/./src/js/moviesfunction.js?')}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var o=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](o,o.exports,__webpack_require__),o.exports}__webpack_require__.d=(n,e)=>{for(var o in e)__webpack_require__.o(e,o)&&!__webpack_require__.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},__webpack_require__.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),__webpack_require__.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/js/dom.js")})();